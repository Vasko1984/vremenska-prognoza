{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Katerina/Desktop/vremenska-prognoza/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"C:/Users/Katerina/Desktop/vremenska-prognoza/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/Katerina/Desktop/vremenska-prognoza/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Katerina/Desktop/vremenska-prognoza/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./App.css\";import Search from\"./components/Search\";import Weather from\"./components/Weather\";import{Weather_api_url,Key}from\"./data/Data\";import{useState}from\"react\";import ForecastDay from\"./components/ForecastDay\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),weather=_useState2[0],setWeather=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),forecast=_useState4[0],setForecast=_useState4[1];var handleOnSearchChange=function handleOnSearchChange(searchData){var _searchData$value$spl=searchData.value.split(\" \"),_searchData$value$spl2=_slicedToArray(_searchData$value$spl,2),lat=_searchData$value$spl2[0],lon=_searchData$value$spl2[1];var currentWeatherFetch=fetch(\"\".concat(Weather_api_url,\"/weather?lat=\").concat(lat,\"&lon=\").concat(lon,\"&appid=\").concat(Key,\"&units=metric\"));var currentForecastFetch=fetch(\"\".concat(Weather_api_url,\"/forecast?lat=\").concat(lat,\"&lon=\").concat(lon,\"&appid=\").concat(Key,\"&units=metric\"));Promise.all([currentWeatherFetch,currentForecastFetch]).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(response){var weatherResponse,weatherForecast;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return response[0].json();case 2:weatherResponse=_context.sent;_context.next=5;return response[1].json();case 5:weatherForecast=_context.sent;console.log(\"vasko1\",response);console.log(\"vasko\",weatherResponse,weatherForecast);setWeather(_objectSpread({city:searchData.label},weatherResponse));setForecast(_objectSpread({city:searchData.label},weatherForecast));case 10:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}()).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Search,{OnSearchChange:handleOnSearchChange}),weather&&/*#__PURE__*/_jsx(Weather,{data:weather}),forecast&&/*#__PURE__*/_jsx(ForecastDay,{data:forecast})]});}export default App;","map":{"version":3,"names":["Search","Weather","Weather_api_url","Key","useState","ForecastDay","App","weather","setWeather","forecast","setForecast","handleOnSearchChange","searchData","value","split","lat","lon","currentWeatherFetch","fetch","currentForecastFetch","Promise","all","then","response","json","weatherResponse","weatherForecast","console","log","city","label","catch","err"],"sources":["C:/Users/Katerina/Desktop/vremenska-prognoza/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport Search from \"./components/Search\";\nimport Weather from \"./components/Weather\";\nimport { Weather_api_url, Key } from \"./data/Data\";\nimport { useState } from \"react\";\nimport ForecastDay from \"./components/ForecastDay\";\n\nfunction App() {\n  const [weather, setWeather] = useState();\n  const [forecast, setForecast] = useState();\n\n  const handleOnSearchChange = (searchData) => {\n    const [lat, lon] = searchData.value.split(\" \");\n\n    const currentWeatherFetch = fetch(\n      `${Weather_api_url}/weather?lat=${lat}&lon=${lon}&appid=${Key}&units=metric`\n    );\n\n    const currentForecastFetch = fetch(\n      `${Weather_api_url}/forecast?lat=${lat}&lon=${lon}&appid=${Key}&units=metric`\n    );\n    Promise.all([currentWeatherFetch, currentForecastFetch])\n      .then(async (response) => {\n        const weatherResponse = await response[0].json();\n        const weatherForecast = await response[1].json();\n        console.log(\"vasko1\", response);\n        console.log(\"vasko\", weatherResponse, weatherForecast);\n        setWeather({ city: searchData.label, ...weatherResponse });\n        setForecast({ city: searchData.label, ...weatherForecast });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <div className=\"container\">\n      <Search OnSearchChange={handleOnSearchChange} />\n      {weather && <Weather data={weather} />}\n      {forecast && <ForecastDay data={forecast} />}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"uhBAAA,MAAO,WAAW,CAClB,MAAOA,OAAM,KAAM,qBAAqB,CACxC,MAAOC,QAAO,KAAM,sBAAsB,CAC1C,OAASC,eAAe,CAAEC,GAAG,KAAQ,aAAa,CAClD,OAASC,QAAQ,KAAQ,OAAO,CAChC,MAAOC,YAAW,KAAM,0BAA0B,CAAC,wFAEnD,QAASC,IAAG,EAAG,CACb,cAA8BF,QAAQ,EAAE,wCAAjCG,OAAO,eAAEC,UAAU,eAC1B,eAAgCJ,QAAQ,EAAE,yCAAnCK,QAAQ,eAAEC,WAAW,eAE5B,GAAMC,qBAAoB,CAAG,QAAvBA,qBAAoB,CAAIC,UAAU,CAAK,CAC3C,0BAAmBA,UAAU,CAACC,KAAK,CAACC,KAAK,CAAC,GAAG,CAAC,gEAAvCC,GAAG,2BAAEC,GAAG,2BAEf,GAAMC,oBAAmB,CAAGC,KAAK,WAC5BhB,eAAe,yBAAgBa,GAAG,iBAAQC,GAAG,mBAAUb,GAAG,kBAC9D,CAED,GAAMgB,qBAAoB,CAAGD,KAAK,WAC7BhB,eAAe,0BAAiBa,GAAG,iBAAQC,GAAG,mBAAUb,GAAG,kBAC/D,CACDiB,OAAO,CAACC,GAAG,CAAC,CAACJ,mBAAmB,CAAEE,oBAAoB,CAAC,CAAC,CACrDG,IAAI,4FAAC,iBAAOC,QAAQ,8KACWA,SAAQ,CAAC,CAAC,CAAC,CAACC,IAAI,EAAE,QAA1CC,eAAe,qCACSF,SAAQ,CAAC,CAAC,CAAC,CAACC,IAAI,EAAE,QAA1CE,eAAe,eACrBC,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAEL,QAAQ,CAAC,CAC/BI,OAAO,CAACC,GAAG,CAAC,OAAO,CAAEH,eAAe,CAAEC,eAAe,CAAC,CACtDlB,UAAU,gBAAGqB,IAAI,CAAEjB,UAAU,CAACkB,KAAK,EAAKL,eAAe,EAAG,CAC1Df,WAAW,gBAAGmB,IAAI,CAAEjB,UAAU,CAACkB,KAAK,EAAKJ,eAAe,EAAG,CAAC,uDAC7D,+DAAC,CACDK,KAAK,CAAC,SAACC,GAAG,QAAKL,QAAO,CAACC,GAAG,CAACI,GAAG,CAAC,GAAC,CACrC,CAAC,CAED,mBACE,aAAK,SAAS,CAAC,WAAW,wBACxB,KAAC,MAAM,EAAC,cAAc,CAAErB,oBAAqB,EAAG,CAC/CJ,OAAO,eAAI,KAAC,OAAO,EAAC,IAAI,CAAEA,OAAQ,EAAG,CACrCE,QAAQ,eAAI,KAAC,WAAW,EAAC,IAAI,CAAEA,QAAS,EAAG,GACxC,CAEV,CAEA,cAAeH,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}